<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Liste des tâches du sprint n°XX - Adopi</title>
  <script type="text/javascript" src="http://www.editablegrid.net/editablegrid/editablegrid-2.0.1.js"></script>
  <link rel="stylesheet" href="css/backlog.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script src="./js/verif_session.js"></script>
  <script type="text/javascript">
	window.onload=function(){
		verifSession();

		editableGrid = new EditableGrid("DemoGridAttach",
			{
				enableSort:true,
			}
		); 
	
		editableGrid.load({ metadata: [
			{ name: "numero", datatype: "integer", editable: false },
			{ name: "identifiant", datatype: "string", editable: true },
			{ name: "tache", datatype: "string", editable: true },
			{ name: "cout", datatype: "integer", editable: true },
		]});
	
		editableGrid.attachToHTMLTable('htmlgrid');
		editableGrid.renderGrid();
		
		editableGrid.ajouterLigne = function()
		{
			this.append(this.getRowCount()+1,{},false,false);
			var ligneAjoutee = this.getRow(this.getRowCount() - 1);
			ligneAjoutee.firstChild.innerText = this.getRowCount();
			ligneAjoutee.insertCell(4);
			ligneAjoutee.children[4].innerHTML = "<a onclick=\"editableGrid.removeRow(" + (this.getRowCount()) + ");\">Supprimer</a>";
		};
		var validerSprint = function(){
			alert("A faire !");
		}
    }
  </script>

</head>
<body>
	<h1>Sprint N°1</h1>
	<a onclick="editableGrid.ajouterLigne();">Ajouter une tâche</a>
	<table id="htmlgrid" class="testgrid">
		<thead><tr>
			<th class="number">Numéro</th>
			<th>Identifiant</th>
			<th>Tâche</th>			
			<th class="number">Coût</th>
		</tr></thead><tbody>
		<tr id="1" style="min-height: 28px;">
			<td class="number">1</td>
			<td></td>
			<td></td>
			<td class="number">1</td>
			<td class="editablegrid-action"><a onclick="editableGrid.removeRow(1);">Supprimer</a></td>
		</tr>
		<tr id="2" style="min-height: 28px;">
			<td class="number">1</td>
			<td></td>
			<td></td>
			<td class="number">1</td>
			<td><a onclick="editableGrid.removeRow(2);">Supprimer</a></td>
		</tr>
		<tr id="3" style="min-height: 28px;">
			<td class="number">1</td>
			<td></td>
			<td></td>
			<td class="number">1</td>
			<td><a onclick="editableGrid.removeRow(3);">Supprimer</a></td>
		</tr>
	</tbody></table>
	<button onclick="validerSprint">Valider le sprint</button>
</body>
</html>